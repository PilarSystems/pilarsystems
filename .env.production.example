# =============================================================================
# PILAR SYSTEMS - Production Environment Variables
# =============================================================================
# Copy this file to .env.production and fill in your actual values
# Never commit .env.production to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# Core Application
# -----------------------------------------------------------------------------
NODE_ENV=production
NEXT_PUBLIC_APP_URL=https://pilarsystems.com
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# Database (PostgreSQL via Supabase/Neon/PlanetScale)
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql://user:password@host:5432/database?schema=public

# -----------------------------------------------------------------------------
# Authentication & Security
# -----------------------------------------------------------------------------
# JWT secret for session tokens (generate with: openssl rand -base64 32)
JWT_SECRET=your-jwt-secret-here

# Encryption keys for sensitive data (generate with: openssl rand -base64 32)
ENCRYPTION_KEY=your-encryption-key-here
ENCRYPTION_KEY_LEGACY=your-legacy-encryption-key-here

# Admin API key for protected endpoints
ADMIN_API_KEY=your-admin-api-key-here

# Cron job secret for scheduled tasks
CRON_SECRET=your-cron-secret-here

# -----------------------------------------------------------------------------
# Supabase (Authentication & Database)
# -----------------------------------------------------------------------------
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key
SUPABASE_URL=https://your-project.supabase.co

# -----------------------------------------------------------------------------
# Stripe (Billing & Subscriptions)
# -----------------------------------------------------------------------------
STRIPE_SECRET_KEY=sk_live_...
STRIPE_WEBHOOK_SECRET=whsec_...

# B2B Plans (Studios)
STRIPE_PRICE_BASIC=price_...           # €100/month
STRIPE_BASIC_PRICE_ID=price_...        # Legacy fallback
STRIPE_BASIC_YEARLY_PRICE_ID=price_... # €1,000/year
STRIPE_BASIC_SETUP_FEE_ID=price_...    # €500 one-time

STRIPE_PRICE_PRO=price_...             # €149/month
STRIPE_PRO_PRICE_ID=price_...          # Legacy fallback
STRIPE_PRO_YEARLY_PRICE_ID=price_...   # €1,490/year
STRIPE_PRO_SETUP_FEE_ID=price_...      # €1,000 one-time

# B2C Plan (Gym Buddy)
STRIPE_PRICE_GYMBUDDY=price_...        # €20/month

# Add-ons
STRIPE_WHATSAPP_ADDON_PRICE_ID=price_... # €20/month

# -----------------------------------------------------------------------------
# AI Services
# -----------------------------------------------------------------------------
# OpenAI (GPT-4, GPT-3.5-turbo)
OPENAI_API_KEY=sk-...

# Anthropic Claude (optional)
ANTHROPIC_API_KEY=sk-ant-...

# Groq (optional, for fast inference)
GROQ_API_KEY=gsk_...

# ElevenLabs (Voice synthesis)
ELEVENLABS_API_KEY=...

# -----------------------------------------------------------------------------
# WhatsApp Business API
# -----------------------------------------------------------------------------
WHATSAPP_ACCESS_TOKEN=...
WHATSAPP_API_TOKEN=...
WHATSAPP_BUSINESS_ACCOUNT_ID=...
WHATSAPP_PHONE_NUMBER_ID=...
WHATSAPP_VERIFY_TOKEN=...

# -----------------------------------------------------------------------------
# Twilio (SMS & Voice)
# -----------------------------------------------------------------------------
TWILIO_ACCOUNT_SID=AC...
TWILIO_AUTH_TOKEN=...
TWILIO_PHONE_NUMBER=+1234567890

# -----------------------------------------------------------------------------
# Email (SMTP & IMAP)
# -----------------------------------------------------------------------------
# SMTP (Outgoing)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@pilarsystems.com

# IMAP (Incoming - optional)
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-app-password
EMAIL_IMAP_HOST=imap.gmail.com
EMAIL_IMAP_PORT=993
EMAIL_SMTP_HOST=smtp.gmail.com
EMAIL_SMTP_PORT=587
EMAIL_SMTP_SECURE=true

# -----------------------------------------------------------------------------
# Google Calendar (optional)
# -----------------------------------------------------------------------------
GOOGLE_CLIENT_ID=...apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=...
GOOGLE_REDIRECT_URI=https://pilarsystems.com/api/auth/google/callback

# -----------------------------------------------------------------------------
# n8n Automation (optional)
# -----------------------------------------------------------------------------
N8N_API_URL=https://your-n8n-instance.com
N8N_API_KEY=...

# -----------------------------------------------------------------------------
# Redis (Rate Limiting & Caching - optional)
# -----------------------------------------------------------------------------
# Upstash Redis
UPSTASH_REDIS_REST_URL=https://...upstash.io
UPSTASH_REDIS_REST_TOKEN=...

# Alternative: Generic Redis
RATE_LIMIT_REDIS_URL=redis://...
RATE_LIMIT_REDIS_TOKEN=...

# -----------------------------------------------------------------------------
# Internal Flags
# -----------------------------------------------------------------------------
# Set to 'true' to suppress Prisma rename warnings
SILENT_RENAME=false

# =============================================================================
# DEPLOYMENT CHECKLIST
# =============================================================================
# 
# 1. Database Setup:
#    - Create PostgreSQL database (Supabase/Neon/PlanetScale)
#    - Run: npx prisma migrate deploy
#    - Verify connection with: npx prisma db pull
#
# 2. Stripe Setup:
#    - Create products in Stripe Dashboard or run: node scripts/create-stripe-products.ts
#    - Configure webhook endpoint: https://pilarsystems.com/api/stripe/webhooks
#    - Copy webhook secret to STRIPE_WEBHOOK_SECRET
#    - Test with: stripe listen --forward-to localhost:3000/api/stripe/webhooks
#
# 3. Supabase Setup:
#    - Create project at https://supabase.com
#    - Enable Email Auth
#    - Configure redirect URLs: https://pilarsystems.com/auth/callback
#    - Copy API keys to NEXT_PUBLIC_SUPABASE_* variables
#
# 4. WhatsApp Setup (optional):
#    - Register WhatsApp Business Account
#    - Get API credentials from Meta Business Manager
#    - Configure webhook: https://pilarsystems.com/api/webhooks/whatsapp
#
# 5. Twilio Setup (optional):
#    - Create Twilio account
#    - Purchase phone number
#    - Configure webhooks for SMS/Voice
#
# 6. AI Services:
#    - OpenAI: Create API key at https://platform.openai.com
#    - ElevenLabs: Create API key at https://elevenlabs.io
#    - Anthropic/Groq: Optional, for additional AI capabilities
#
# 7. Vercel Deployment:
#    - Set all environment variables in Vercel Dashboard
#    - Enable "Automatically expose System Environment Variables"
#    - Configure domains and SSL
#    - Deploy and verify health check: https://pilarsystems.com/api/health
#
# =============================================================================
